<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monthly Timesheet Report</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: rgb(204, 231, 253);
            padding: 20px; 
        }

        .container {
            border: 1px solid #ccc; 
            border-radius: 2%; 
            padding: 2%;
            max-width: 100%; 
            width: 100%; 
            background-color: rgb(204, 231, 253);
            margin-top: 2%;
        }

        .mb-3 {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Monthly Timesheet Report</h1>
        <h3>{{ month_range }} for {{ care_home_name }}</h3>
        
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Staff Name</th>
                    <th>Care Home Name</th>
                    <th>Date of Work</th>
                    <th>Shift Started Time</th>
                    <th>Break Started Time</th>
                    <th>Break Finished Time</th>
                    <th>Shift Finished Time</th>
                    <th>Total Worked Hours</th>
                    <th>Client Representative Name</th>
                    <th>Client Representative Position</th>
                    <th>Staff Signature</th>
                    <th>Client Rep Signature</th>
                </tr>
            </thead>
            <tbody>
                {% for timesheet in timesheets %}
                <tr>
                    <td>{{ timesheet.staff_name }}</td>
                    <td>{{ timesheet.care_home_name }}</td>
                    <td>{{ timesheet.date_of_work }}</td>
                    <td>{{ timesheet.shift_started_time }}</td>
                    <td>{{ timesheet.break_started_time }}</td>
                    <td>{{ timesheet.break_finished_time }}</td>
                    <td>{{ timesheet.shift_finished_time }}</td>
                    <td>{{ timesheet.total_worked_hours }}</td>
                    <td>{{ timesheet.client_rep_name }}</td>
                    <td>{{ timesheet.client_rep_position }}</td>
                    <td>
                        {% if timesheet.staff_signature_image %}
                            <img src="{{ timesheet.staff_signature_image.url }}" alt="Staff Signature" style="width: 100px; height: auto;">
                        {% else %}
                            No Signature
                        {% endif %}
                    </td>
                    <td>
                        {% if timesheet.client_rep_signature_image %}
                            <img src="{{ timesheet.client_rep_signature_image.url }}" alt="Client Rep Signature" style="width: 100px; height: auto;">
                        {% else %}
                            No Signature
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="12">No timesheets found for {{ month_range }} for {{ care_home_name }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <!-- Bootstrap JS (optional, for Bootstrap features) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
